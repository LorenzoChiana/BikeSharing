<!doctype html>
<html lang="en">
<head>
<title>View Component</title>
<meta charset="utf-8">
</head>
<style>
agm-map {
  width: 100%;
  height: 50vh;
}

/* css mappa */
#mapView {
  margin-top: 5%;
  margin-bottom: 5%;

  padding-top: 2%;
  padding-bottom: 2%;
}
</style>

<body>

<div class="container">
  <!-- pulsanti navigazione -->
  <div class="container">
    <button (click)="goBack()">Back</button>
    <a [routerLink]="['/view-rent', nameUser, isAdmin]" routerLinkActive="active">Prenotazioni</a>
    <a *ngIf="isAdmin" [routerLink]="['/ins']" routerLinkActive="active">Inserimento</a>
  </div>

  <!-- titolo -->
  <h1>Elenco rastrelliere</h1>

  <!-- mappa rastrelliere -->
  <div class="map-responsive" id="mapView">
    <agm-map [latitude]="latitudine" [longitude]="longitudine" [zoom]="zoom" [fullscreenControl]='true' [mapTypeControl]='true'>
      <agm-marker *ngFor="let rack of rackes; let ind = index"
      [label]="rack.codice" [latitude]="rack.latitudine" [longitude]="rack.longitudine"

      (dragEnd)="dragRack($event, rack)"
      (markerClick)="selectRack(rack)"
      color="white"
      [iconUrl]="'http://maps.google.com/mapfiles/ms/icons/blue-dot.png'">
    </agm-marker>
    </agm-map>
  </div>

  <!-- elenco rastrelliere -->
  <div class="table-container" style="overflow: auto;">
    <table class="table">
      <thead>
        <tr>
          <td>Id</td>
          <td>Codice</td>
          <td>Indirizzo</td>
          <td>N. Bici</td>
          <td *ngIf="isAdmin">Edit</td>
          <td>Informazioni</td>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let rack of rackes;let ind = index">

          <td>{{ind + 1}}</td>
          <td>{{rack.codice}}</td>
          <td>{{rack.indirizzo}}</td>
          <td>{{rack.numBike}}</td>

          <td *ngIf="isAdmin"><a [routerLink]="['/edit-rack', rack._id]" routerLinkActive="active"
            style="color:blueviolet">Edit</a></td>
          <td><a [routerLink]="['/rent-bike', rack._id]" routerLinkActive="active">Info bici</a></td>
        </tr>
      </tbody>
    </table>
  </div> <!-- end elenco -->

</div> <!-- end div content -->

</body>
</html>
