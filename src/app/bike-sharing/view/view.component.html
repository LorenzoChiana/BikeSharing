<!-- start banner Area -->
<section class="banner-area relative about-banner" id="home">
  <div class="overlay overlay-bg"></div>
  <div class="container">
    <div class="row d-flex align-items-center justify-content-center">
      <div class="about-content col-lg-12">
        <h1 class="text-white">
          {{ 'VIEW_TITLE' | translate }}
        </h1>
      </div>
    </div>
  </div>
</section>
<!-- End banner Area -->

<mat-accordion class="example-headers-align">

  <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" (closed)="setStep(1)" hideToggle>
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ 'MAP' | translate }}
      </mat-panel-title>
      <mat-panel-description>
        {{ 'SELECT_THROUGH_MAP' | translate }}
        <mat-icon>map</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>

    <div #gmap *ngIf="showMap" class="map-responsive" id="mapView">
      <img src="http://maps.google.com/mapfiles/ms/icons/blue-dot.png">
      {{ 'BIKE_PARKING' | translate }}
      <!--[label]="rack.codice" -->
      <agm-map #gm [latitude]="latitudine" [longitude]="longitudine" [zoom]="zoom" [fullscreenControl]='true' [mapTypeControl]='true'>
        <agm-marker *ngFor="let rack of rackes; let ind = index"
          [latitude]="rack.latitudine"
          [longitude]="rack.longitudine"
          [markerDraggable]="isAdmin"
          (dragEnd)="dragRack($event, rack)"
          (markerClick)="infoRack(rack)"
          (mouseOver)="onMouseOver(infoWindow,gm)"
          color="white"
          [iconUrl]="'http://maps.google.com/mapfiles/ms/icons/blue-dot.png'">
          <agm-info-window [disableAutoPan]="false" #infoWindow>
            {{ 'PARKING' | translate }}: {{rack.codice}}
            <br>
            {{ 'N_BIKE' | translate }}: {{rack.numBike}}
            <br>
            {{ 'FREE_SPOTS' | translate }}: {{rack.numPlace - rack.numBike}}
          </agm-info-window>
        </agm-marker>

        <agm-marker
        *ngIf="positionUser"
        [latitude]="userLat" [longitude]="userLong" color="white" [label]="labelUserOptions"
        [iconUrl]="'http://maps.google.com/mapfiles/ms/icons/red-dot.png'"></agm-marker>

      </agm-map>
    </div>

    <mat-action-row>
      <div class="btn-container">
        <!--<button mat-button (click)="rackList()">{{ 'PARKING' | translate }}</button>
        <button mat-button *ngIf="!isAdmin" (click)="preleva()">{{ 'BORROW' | translate }}</button>
        <button mat-button *ngIf="!isAdmin" (click)="rilascia()">{{ 'RELEASE' | translate }}</button>-->

        <button mat-button (click)="getUserLocation()">{{ 'GEOLOCALIZATION' | translate }}</button>
        <button mat-button (click)="rentList()">{{ 'RESERVATIONS' | translate }}</button>
        <button mat-button (click)="commentList()">{{ 'COMMENTS' | translate }}</button>
      </div>
      <div class="btn-mobile-container">
        <!--<button mat-icon-button matTooltip="Parcheggi" (click)="rackList()">
          <mat-icon>local_parking</mat-icon>
        </button>
        <button mat-icon-button *ngIf="!isAdmin" (click)="preleva()">
          <mat-icon>lock_open</mat-icon>
        </button>
        <button mat-icon-button *ngIf="!isAdmin" (click)="rilascia()">
          <mat-icon>lock</mat-icon>
        </button>-->
        <button mat-icon-button (click)="rentList()">
          <mat-icon>list_alt</mat-icon>
        </button>
        <button mat-icon-button (click)="commentList()">
          <mat-icon>comment</mat-icon>
        </button>
      </div>
    </mat-action-row>
  </mat-expansion-panel>

  <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" (closed)="setStep(0)" hideToggle>
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ 'LIST' | translate }}
      </mat-panel-title>
      <mat-panel-description>
        {{ 'SELECT_THROUGH_LIST' | translate }}
        <mat-icon>list</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="table-container">

      <table class="table table-hover">
        <thead>
          <tr>
            <th>{{ 'ID' | translate }}</th>
            <th>{{ 'CODE' | translate }}</th>
            <th>{{ 'ADDRESS' | translate }}</th>
            <th>{{ 'N_BIKE' | translate }}</th>
            <th>{{ 'N_SPOT' | translate }}</th>
            <th *ngIf="isAdmin">{{ 'EDIT' | translate }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let rack of rackes;let ind = index" (click)="selectRack(rack)">

            <td>{{ind + 1}}</td>
            <td>{{rack.codice}}</td>
            <td>{{rack.indirizzo}}</td>
            <td>{{rack.numBike}}</td>
            <td>{{rack.numPlace}}</td>

            <td *ngIf="isAdmin">
              <button type="button" class="btn btn-primary btn-sm" (click)="editRack(rack)">{{ 'EDIT' | translate }}</button>
            </td>
          </tr>
        </tbody>
      </table>
     </div>
    <mat-action-row>
      <div class="btn-container">
        <!--<button mat-button (click)="rackList()">{{ 'PARKING' | translate }}</button>
        <button mat-button *ngIf="!isAdmin" (click)="preleva()">{{ 'BORROW' | translate }}</button>
        <button mat-button *ngIf="!isAdmin" (click)="rilascia()">{{ 'RELEASE' | translate }}</button>-->
        <button mat-button (click)="rentList()">{{ 'RESERVATIONS' | translate }}</button>
        <button mat-button (click)="commentList()">{{ 'COMMENTS' | translate }}</button>
      </div>
      <div class="btn-mobile-container">
        <!--<button mat-icon-button (click)="rackList()">
          <mat-icon>local_parking</mat-icon>
        </button>
        <button mat-icon-button *ngIf="!isAdmin" (click)="preleva()">
          <mat-icon>lock_open</mat-icon>
        </button>
        <button mat-icon-button *ngIf="!isAdmin" (click)="rilascia()">
          <mat-icon>lock</mat-icon>
        </button>-->
        <button mat-icon-button (click)="rentList()">
          <mat-icon>list_alt</mat-icon>
        </button>
        <button mat-icon-button (click)="commentList()">
          <mat-icon>comment</mat-icon>
        </button>
      </div>
    </mat-action-row>
  </mat-expansion-panel>

</mat-accordion>

<!-- start footer Area -->
<footer class="footer-area section-gap">
  <div class="container">
    <div class="row">
      <div class="col-lg-2 col-md-6 col-sm-6">
        <div class="single-footer-widget">
          <h6>{{ 'QUICK_LINKS' | translate }}</h6>
          <ul>
            <li><a href="#">{{ 'JOBS' | translate }}</a></li>
            <li><a href="#">{{ 'BRAND_ASSETS' | translate }}</a></li>
            <li><a href="#">{{ 'INVESTOR_RELATIONS' | translate }}</a></li>
            <li><a href="#">{{ 'TERMS_OF_SERVICE' | translate }}</a></li>
          </ul>
        </div>
      </div>
      <div class="col-lg-2 col-md-6 col-sm-6">
        <div class="single-footer-widget">
          <h6>{{ 'FEATURES' | translate }}</h6>
          <ul>
            <li><a href="#">{{ 'JOBS' | translate }}</a></li>
            <li><a href="#">{{ 'BRAND_ASSETS' | translate }}</a></li>
            <li><a href="#">{{ 'INVESTOR_RELATIONS' | translate }}</a></li>
            <li><a href="#">{{ 'TERMS_OF_SERVICE' | translate }}</a></li>
          </ul>
        </div>
      </div>
      <div class="col-lg-2 col-md-6 col-sm-6">
        <div class="single-footer-widget">
          <h6>{{ 'RESOURCES' | translate }}</h6>
          <ul>
            <li><a href="#">{{ 'GUIDES' | translate }}</a></li>
            <li><a href="#">{{ 'RESEARCH' | translate }}</a></li>
            <li><a href="#">{{ 'EXPERTS' | translate }}</a></li>
            <li><a href="#">{{ 'AGENCIES' | translate }}</a></li>
          </ul>
        </div>
      </div>
      <div class="col-lg-2 col-md-6 col-sm-6 social-widget">
        <div class="single-footer-widget">
          <h6>{{ 'FOLLOW_US' | translate }}</h6>
          <p>{{ 'FOLLOW_US_SUB' | translate }}</p>
          <div class="footer-social d-flex align-items-center">
            <a href="#"><i class="fa fa-facebook"></i></a>
            <a href="#"><i class="fa fa-twitter"></i></a>
            <a href="#"><i class="fa fa-dribbble"></i></a>
            <a href="#"><i class="fa fa-behance"></i></a>
          </div>
        </div>
      </div>
      <div class="col-lg-4  col-md-6 col-sm-6">
        <div class="single-footer-widget">
          <h6>{{ 'NEWSLETTER' | translate }}</h6>
          <p>{{ 'NEWSLETTER_SUB' | translate }}</p>
          <div class="" id="mc_embed_signup">
            <form target="_blank" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01" method="get" class="form-inline">
              <input class="form-control" name="EMAIL" placeholder="Enter Email" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter Email '" required="" type="email">
                              <button class="click-btn btn btn-default"><span class="lnr lnr-arrow-right"></span></button>
                              <div style="position: absolute; left: -5000px;">
                  <input name="email-footer" tabindex="-1" value="" type="text">
                </div>
              <div class="info"></div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>
